<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Website - Gerawana</title>
        <style>
            * {
                box-sizing: border-box;
            }

            body {
                padding: 0;
                margin: 0;
                height: 75vh;
            }

            #canvas {
                width: 100%;
                height: 100%;
                background-color: #eee;
            }
        </style>
    </head>
    <body>
        <canvas id="canvas"></canvas>
    </body>

    <script defer>
        //code
        const canvas = document.querySelector("#canvas");
        const ctx = canvas.getContext("2d");

        canvas.width = canvas.clientWidth;
        canvas.height = canvas.clientHeight;
        let rad1 = Math.PI * 2;
        let rad2 = Math.PI;
        let time = 0;
        let reverse = false;
        let hex = 0;
        let maxHex = parseInt("fff", 16);

        function draw(timestamp) {
            let frameDelay = timestamp - time;
            let color = hex.toString(16);
            time = timestamp;
            if (++hex >= maxHex) hex = 0;
            console.log(`#${color.split("").join("f")}f`);

            if (reverse) {
                rad2 = rad2 - frameDelay / 1000;
                if (rad2 < Math.PI) {
                    rad2 = Math.PI;
                    reverse = false;
                }
            } else {
                rad2 = rad2 + frameDelay / 1000;
                if (rad2 > Math.PI * 2) {
                    rad2 = Math.PI * 2;
                    reverse = true;
                }
            }

            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = `#${color.split("").join("f")}f`;
            ctx.strokeStyle = "black";
            ctx.lineWidth = 5;
            ctx.beginPath();
            ctx.moveTo(canvas.width / 2 - 10, canvas.height - 10);
            ctx.arc(canvas.width / 2 - 10, canvas.height - 10, canvas.width / 4 - 10, Math.PI, rad2);
            ctx.lineTo(canvas.width / 2 - 10, canvas.height - 10);
            ctx.fill();
            ctx.stroke();
            ctx.closePath();

            ctx.strokeStyle = "black";
            ctx.fillStyle = "black";
            ctx.lineWidth = 5;
            ctx.beginPath();
            ctx.arc(canvas.width / 2 - 10, canvas.height - 10, 10, Math.PI, Math.PI * 2);
            ctx.fill();
            ctx.stroke();

            window.requestAnimationFrame(draw);
        }

        //draw();
        window.requestAnimationFrame(draw);
    </script>
</html>
